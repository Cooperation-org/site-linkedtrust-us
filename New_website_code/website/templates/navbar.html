{% load static %}
<nav class="navbar">
    <div class="nav-container">
        <div class="logo">
            <a href="{% url 'home' %}" class="nodec logo-link">
                <img src="{% static 'img/logo.svg' %}" alt="LinkedTrust Logo">
                <span>LinkedTrust</span>
            </a>
        </div>
        <div class="mobile-menu">
            <ul class="nav-links">

                <li class="dropdown">
                    <a href="#About">About</a>
                    <div class="dropdown-content">
                        <a href="{% url 'team' %}">Team</a>
                        <a href="{% url 'about' %}">Our Mission</a>
                        <a href="{% url 'press' %}">Press & Media</a>
                        <a href="https://invest.linkedtrust.us">Invest</a>
                    </div>
                </li>
                <a class="nodec" href="{% url 'services' %}">Our Services</a>
                <li class="dropdown">
                    <a href="#LinkedClaims">LinkedClaims</a>
                    <div class="dropdown-content">
                        <a href="{% url 'getstarted' %}">Getting Started</a>
                        <a href="https://live.linkedtrust.us/api/docs" target="_blank">Documentation</a>
                        <a href="https://github.com/Cooperation-org/LinkedClaims/blob/main/LinkedClaimsRFC.md"
                            target="_blank">LinkedClaim RFC</a>
                        <div class="nested-dropdown">
                            <a href="#" class="nested-trigger">Code</a>
                            <div class="nested-dropdown-content">
                                <a href="https://github.com/Cooperation-org" target="_blank">GitHub</a>
                                <a href="https://www.npmjs.com/org/cooperation" target="_blank">npm</a>
                                <a href="https://pypi.org/project/linked-claims-extractor/" target="_blank">PyPI</a>
                            </div>
                            <a href="http://cooperation.org/credentials/v1/" target="_blank">Schema</a>
                            <a href="http://cooperation.org/linked_trust/" target="_blank">Architecture</a>
                        </div>
                    </div>

                </li>

                <li> <a class="nodec" href="{% url 'contact' %}">Contact Us</a></li>
            </ul>
            <a href="https://live.linkedtrust.us/" target="_blank" class="cta-button">Live Claims</a>
        </div>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <a href="https://live.linkedtrust.us/" target="_blank" class="cta-button">Live Claims</a>
    </div>
</nav>



<script>
    const hamburger = document.querySelector('.hamburger');
    const mobileMenu = document.querySelector('.mobile-menu');
    const navLinks = document.querySelector('.nav-links');
    const ctaButton = document.querySelector('.mobile-menu .cta-button');

    hamburger.addEventListener('click', () => {
        hamburger.classList.toggle('active');
        mobileMenu.classList.toggle('active');
        navLinks.classList.toggle('active');
        ctaButton.classList.toggle('active');
    });

    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
        if (!hamburger.contains(e.target) && !mobileMenu.contains(e.target)) {
            hamburger.classList.remove('active');
            mobileMenu.classList.remove('active');
            navLinks.classList.remove('active');
            ctaButton.classList.remove('active');
        }
    });

    // For mobile: Handle dropdown and nested dropdown clicks
    if (window.innerWidth <= 768) {
        const dropdowns = document.querySelectorAll('.dropdown');
        const nestedDropdowns = document.querySelectorAll('.nested-dropdown');

        dropdowns.forEach(dropdown => {
            dropdown.addEventListener('click', (e) => {
                const content = dropdown.querySelector('.dropdown-content');
                content.style.display = content.style.display === 'block' ? 'none' : 'block';
                e.stopPropagation();
            });
        });

        nestedDropdowns.forEach(nested => {
            const trigger = nested.querySelector('.nested-trigger');
            trigger.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                nested.classList.toggle('active');
            });
        });
    }
</script>